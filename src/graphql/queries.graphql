query GetActiveUserOptions($user: String!) {
  UserOption(
    where: {ownerAddr: {_eq: $user}, fullyExercised: {_eq: false}}
    limit: 1000
  ) {
    id
    ownerAddr
    exerciseEvents {
      transactionHash
    }
    mintEvent {
      transactionHash
    }
    optionType
    strikeTick
    entryTick
    strikePrice
    entryPrice
    expiresAt
    createdAt
    premiumPaid
    realizedPayout
    marketAddr
    liquiditiesAtOpen
    liquiditiesCurrent
    positionSizeAtOpen
    positionSizeCurrent
    fullyExercised
  }
}

query GetClosedUserOptions($user: String!) {
  UserOption(
    where: {ownerAddr: {_eq: $user}, fullyExercised: {_eq: true}}
    limit: 1000
  ) {
    id
    ownerAddr
    exerciseEvents {
      transactionHash
    }
    mintEvent {
      transactionHash
    }
    optionType
    strikeTick
    entryTick
    strikePrice
    entryPrice
    expiresAt
    createdAt
    premiumPaid
    realizedPayout
    marketAddr
    liquiditiesAtOpen
    liquiditiesCurrent
    positionSizeAtOpen
    positionSizeCurrent
    fullyExercised
  }
}

query GetMarketData($marketAddr: String!) {
  TimelockMarket(where: {id: {_eq: $marketAddr}}, limit: 1) {
    id
    optionsCount
    tradersCount
    vault
    pool
    tickSpacing
    optionAssetIsToken0
    optionAsset
    payoutAsset
    optionAssetDecimals
    payoutAssetDecimals
    optionAssetSymbol
    payoutAssetSymbol
    optionAssetName
    payoutAssetName
  }
}